<ion-header>
  <ion-navbar color="secondary">
    <ion-title>
      <img (click)="home()"  src="assets/imgs/logop.png" alt="logo">
    </ion-title>
    <ion-buttons end>
      <button (click)="logout()" ion-button tappable>
        <ion-icon name="person"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="body">
    <ion-navbar color="light" class="body">
        <hr>
        <h5> {{oferta.ofertaId.curriculoId.disciplinaId.nome}} </h5>
        <h6 class="title"><ion-icon name="document"></ion-icon> Avaliações </h6>
        <button full ion-button slot="end" color="secondary" (click)="adicionarAvaliacao(oferta)">Adicionar</button>
        <h6 class="title"><ion-icon name="search"></ion-icon> Lista de Avaliações</h6>
        <p style="text-align: right;"> Total de Pontos: {{pontosDistribuidos}}</p>
        <hr>
        <h6 *ngIf="quantAvaliacoes == 0" ><ion-icon name="alert"></ion-icon>Ainda não foram lançados avaliações!</h6>
        <ion-searchbar placeholder="Pesquisar avaliação" (ionInput)="getItems($event)"></ion-searchbar>
        <p style="color: green;"> Arraste os itens para o lado para ver as ações!</p>
        <ion-list>
        <ion-item-sliding *ngFor="let item of itemsFilter">
          <ion-item>
            <h6>Avaliação: <b>{{item.nome}}</b> </h6>
            <h6>Data: <b>{{item.dataAvaliacao.substring(8,10)}}/{{item.dataAvaliacao.substring(5,7)}}/{{item.dataAvaliacao.substring(0,4)}} </b>  </h6>
            <h6>Máximo de Pontos: <b>{{item.maxPontos}}</b></h6>
          </ion-item>
          <ion-item-options side="right">
              <button ion-button color="secondary" title="Lançar Notas" icon-only (click)="lancarNotas(item)">
                  <ion-icon name="open"></ion-icon>
              </button>
              <button ion-button title="Editar" icon-only (click)="editarAvaliacao(item)">
                  <ion-icon name="create"></ion-icon>
              </button>
          </ion-item-options>
          <ion-item-options side="left">
              <button ion-button color="danger" title="Excluir" icon-only (click)="excluirAvaliacao(item, item.id)">
                  <ion-icon name="trash"></ion-icon>
              </button>
          </ion-item-options>
        </ion-item-sliding>
        </ion-list>
    </ion-navbar>

  
</ion-content>
